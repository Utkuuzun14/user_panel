<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <title>TDG </title>
    <link rel="stylesheet" href="/static/styles.css?v=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />

    <!-- Modern tarayıcılar için SVG -->
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAYAAAAGXva8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALDSURBVEhLrZa7axRBHMd3LxqNRCwkwQe+MODtXkTEQoNWNhaCaGfjqzO9hVhYmEJI4d9go0TFByIiKmKjCDa+chdROEkhany/UGM8P9+d2c3dZvd2inzhw/xmb2Z+O7/5zW/Pr4TBLs/zjsMGkKagAc/g5Gi1dkkPZ1MdvT0952k3Qskyx7IMlvL7hYmJ95PYsybt9CvtQtOdoddQZrffTNfzGK8X2wYHYDUsgJ8wxLi7tIXSAnONmSntUKFu1jzYC4dgO2yx7Qlwkpy20w9IO1XoFRk/6k1ruW0LJadKnDwpCunF1U8/k0qVcrnD2m0lpy+Mmak1sMqYifogMGaLur2Sv9LabaVE2kF7FHRlOuEXKDEWg5LkEdyAKiijd8JW+ADPQXPWQRfchHPwCnQsU42GV6/Wam+xE2WFKVIlLBNafxDzFKTDdhUGyVZltzJaO7wG69VP6TcMwTDjo6uXm0ij1TEN0OJKprTG4J0xNbY2TnPW9GZI2a4CtCLqIZfszZIWSs9VBcuTjmm+MYud6nzTV0bSOabn5h4ViqtcpLZObSU6AwpnHV7CbbjCb3qhZqk65UlH9c+YxTuVjsCeJvaBHKe12bZZ+gJJKW0XkhaRoUqEJaCzUUGJUX8tDEMvqJbHlUzrq9U1OhZHx8lpGJQ7fd9Xdg6Akih2qJCpr7Koa6UxI/AJ4nD+gToOtdtITk7Z5Saa66Cd5OkpDLB4XsYncnW6m+Y0LIoeZOs+DlWpEjFPGasX1sdAO9duH7okktQNRcW85RNZCQJt6CDoG3sRLsMduOfqVA6LoqICMC0/mqOPQ1IUrPpcneYViWZlrZX1oiVXp8rA5HLn6LNtm5X132rS1akK+l9j5uqJbWPpSj2AN/Dd8hFuOWVvGAZdDNTnaT8ogzUvTixFQd/cw2Tv4+iJFdmr+9sPOm/NYefe+H+IM6vdCn68xAAAAABJRU5ErkJggg==" type="image/x-icon">

</head>
<body>
    
    <a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
        <i class="fas fa-bars"></i>
    </a>


    <div class="page wrapper toggled">    

        {% include 'sidebar.html' %}
        <main class="page-content">
            <h2 style="text-align: center; font-family: 'Courier New', Courier, monospace">Station Informations </h2>

                <hr>
                <div class="container">
                <div class="card-deck" style="width:auto">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 512 512"width="24"height="24"fill="teal"style="vertical-align: middle; margin-right: 8px;">
                            <path d="M256 8C119 8 8 119 8 256s111 248 248 248
                            248-111 248-248S393 8 256 8zm92.5 313l-20
                            25c-4.5 5.6-12.8 6.6-18.4 2.1l-67-49.7c-9.1-6.8-14.5-17.5-14.5-28.6V112c0-8.8
                            7.2-16 16-16h32c8.8 0 16 7.2 16 16v144l58 42.5c5.5 4.1 6 10.5 0.5 15.5z"/>
                        </svg>
                        System Time
                    </h5>
                    <div class="card-text" id="systemTime">
                        <b>System Time:</b>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 448 512"width="24"height="24"fill="tomato"style="vertical-align: middle; margin-right: 8px;">
                            <path d="M393.9 184.3l22.6-22.6c4.7-4.7 4.7-12.3 0-17L382.3 110c-4.7-4.7-12.3-4.7-17 0l-22.6 22.6c-35.1-27.5-79.4-41.7-125.2-39.4V64h32c6.6 0 12-5.4 12-12V12c0-6.6-5.4-12-12-12h-96c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h32v29.2C88.9 106.1 16 185.3 16 280c0 110.3 107 200 224 200s224-89.7 224-200c0-37.5-13.1-72.5-38.1-95.7zM232 448c-88.2 0-160-68.5-160-152 0-66.3 55.2-123.4 129.3-138.1 2.3-.5 4.7-.9 7-.9 3.3 0 6.6.7 9.7 2 6.1 2.6 11.6 7.5 14.1 13.7 2.4 5.9 1.8 12.4-.3 18.2-1.5 4.1-2.3 8.4-2.3 12.8v58.8c0 10.7 4.8 20.8 13.2 27.6l52.4 42.3c7.2 5.8 11.4 14.4 11.4 23.5v.6c0 16.1-13.4 29.2-29.7 29.2H232z"/>
                        </svg>
                        Trigger Count:0
                    </h5>
                    <p class="card-text">Last Trigger:None</p>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24" width="24" height="24" fill="black" style="vertical-align: middle; margin-right: 8px;">
                            <path d="M9 2h6v2H9zm0 18h6v2H9zM2 9h2v6H2zm18 0h2v6h-2zM6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm1 2v10h10V7H7z"/>
                        </svg>
                        Cpu Usage
                    </h5>
                    <p class="card-text"><b>CPU Usage:0%</b></p>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <svg class="svg-inline--fa fa-sd-card fa-w-12" style="color: darkgray; vertical-align: middle; margin-right: 8px;"  aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sd-card" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="24" height="24">
                            <path fill="currentColor" d="M320 0H128L0 128v320c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zM160 160h-48V64h48v96zm80 0h-48V64h48v96zm80 0h-48V64h48v96z"/>
                        </svg>
                        Disk Usage
                    </h5>
                    <p class="card-text"><b>Disk Usage:</b></p>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="24" height="24" fill="green" style="vertical-align: middle; margin-right: 8px;">
                            <path d="M640 130.94V96c0-17.67-14.33-32-32-32H32C14.33 64 0 78.33 0 96v34.94c18.6 6.61 32 24.19 32 45.06s-13.4 38.45-32 45.06V320h640v-98.94c-18.6-6.61-32-24.19-32-45.06s13.4-38.45 32-45.06zM224 256h-64V128h64v128zm128 0h-64V128h64v128zm128 0h-64V128h64v128zM0 448h64v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h64v-96H0v96z"/>
                        </svg>
                        Memory Usage
                    </h5>
                    <p class="card-text" id="ramUsage"><b>RAM Usage:</b></p>
                </div>
            </div>
                </div>
                </div>
                <div class="station-info-map">
                    <div class="info-panel">
                        <ul class="list-group">
                        <li style="font-family: FreeMono, monospace"><b>Station Serial Number: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Station Name: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Station Type: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Station Location: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Station Description: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Station Code: </b></li>
                        <li style="font-family: FreeMono, monospace"><b>Sensor SPS: </b></li>
                        </ul>
                    </div>

                    <div class="map-panel">
                        <div id="map"></div>
                    </div>
                </div>
                <div class="additional-info">
                    <div class="two-column-info">
                    <div style="font-family: FreeMono, monospace;"><strong>Kurulum Tarihi:</strong> 12 Mayıs 2020</div>
                    <div style="font-family: FreeMono, monospace;"><strong>Son Kalibrasyon:</strong> 15 Mart 2024</div>
                    <div style="font-family: FreeMono, monospace;"><strong>Veri Sıklığı:</strong> 5 dakika</div>
                    <div style="font-family: FreeMono, monospace;"><strong>İletişim:</strong> Aktif</div>
                    <div style="font-family: FreeMono, monospace;"><strong>Kaynak:</strong> LoRaWAN</div>
                    <div style="font-family: FreeMono, monospace;"><strong>Enerji:</strong> Solar</div>
                    <div style="font-family: FreeMono, monospace;"><strong>Son Bakım:</strong> Sensör değişti</div>
                </div>
                </div>


        </main>
    </div>

<!-- Leaflet JS, HTML içinde yüklenmeli -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>


<script>
    const stationLat = 39.925533;
    const stationLng = 32.866287;
    const zoomLevel = 13;

    const map = L.map('map').setView([stationLat, stationLng], zoomLevel);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    }).addTo(map);

    L.marker([stationLat, stationLng])
        .addTo(map)
        .bindPopup("İstasyon: Ankara")
        .openPopup();

  function updateSystemTime() {
    const now = new Date();
    const formatted = now.toLocaleString();
    const systemTimeEl = document.getElementById("systemTime");
    if (systemTimeEl) {
      systemTimeEl.innerHTML = `<b>System Time:</b> ${formatted}`;
    }
  }

  updateSystemTime();
  setInterval(updateSystemTime, 1000);


document.addEventListener("DOMContentLoaded", function () {
  const wrapper = document.querySelector(".page.wrapper");
  const showSidebarBtn = document.getElementById("show-sidebar");
  const closeSidebarBtn = document.getElementById("close-sidebar");

  function updateSidebarOnResize() {
    if (!wrapper) return;
    if (window.innerWidth <= 768) {
      wrapper.classList.add("toggled");
    } else {
      wrapper.classList.remove("toggled");
    }
  }

  updateSidebarOnResize();
  window.addEventListener("resize", updateSidebarOnResize);

  if (showSidebarBtn && wrapper) {
    showSidebarBtn.addEventListener("click", function (e) {
      e.preventDefault();
      wrapper.classList.remove("toggled");

      showSidebarBtn.style.display = 'none';
    });
  }

  if (closeSidebarBtn && wrapper) {
    closeSidebarBtn.addEventListener("click", function (e) {
      e.preventDefault();
      wrapper.classList.add("toggled");

      if(showSidebarBtn)
      {
        showSidebarBtn.style.display = 'block';
      }
    });
  }

  // Sidebar dropdown
  document.querySelectorAll('.sidebar-dropdown > a').forEach(menu => {
    menu.addEventListener('click', function (e) {
      const parent = this.parentElement;
      const submenu = parent.querySelector('.sidebar-submenu');
      if (!submenu || this.getAttribute('href') !== '#') return;

      e.preventDefault();
      const isActive = parent.classList.contains('active');

      document.querySelectorAll('.sidebar-dropdown').forEach(item => {
        item.classList.remove('active');
        const sm = item.querySelector('.sidebar-submenu');
        if (sm) sm.style.display = 'none';
      });

      if (!isActive) {
        parent.classList.add('active');
        submenu.style.display = 'block';
      }
    });
  });
});
</script>



</body>
</html>
